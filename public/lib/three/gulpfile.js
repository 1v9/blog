const fs=require("fs"),del=require("del"),gulp=require("gulp"),concat=require("gulp-concat"),uglify=require("gulp-uglify");gulp.task("clean",async()=>{del(["*.min.js","!three.min.js"])}),gulp.task("scripts",async()=>{fs.readdirSync("src").forEach(file=>{const fileName=file.split(".")[0];return gulp.src([`src/${fileName}.js`,"lib/*.js"]).pipe(concat(`${fileName}.min.js`)).pipe(uglify()).pipe(gulp.dest("./"))})}),gulp.task("default",gulp.series("clean","scripts"));